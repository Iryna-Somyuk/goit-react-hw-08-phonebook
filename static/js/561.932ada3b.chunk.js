"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[561],{9561:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var r,a=n(5705),s=n(2797),o=n(9434),l=n(6916),c=function(e){return e.contacts.items},i=function(e){return e.filter},d=function(e){return e.contacts.isLoading},u=function(e){return e.contacts.error},m=(0,l.P1)([c,i],(function(e,t){var n=t.toLowerCase().trim();return e.filter((function(e){return e.name.toLowerCase().includes(n)}))})),x=n(5218),f=n(2561),p=n(184),b=s.Ry().shape({name:s.Z_().required(),number:s.Z_().required()}),h={name:"",number:""},g=function(){var e=(0,o.v9)(c),t=(0,o.I0)();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(a.J9,{initialValues:h,validationSchema:b,onSubmit:function(n,r){var a=r.resetForm;console.log(n),e.find((function(e){return e.name===n.name}))?x.ZP.error("Attention, this contact is already in the phonebook!",{duration:4e3}):(t((0,f.uK)(n)),a())},children:(0,p.jsxs)(a.l0,{className:"flex flex-col",children:[(0,p.jsxs)("label",{className:"flex flex-col gap-1 mb-3 font-normal text-lg",children:["Name",(0,p.jsx)(a.gN,{className:"p-1 text-lg border-2 rounded w-72",type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0}),(0,p.jsx)(a.Bc,{className:"text-rose-700 text-xs font-normal",name:"name",component:"span"})]}),(0,p.jsxs)("label",{className:"flex flex-col gap-1 mb-3 font-normal text-lg",children:["Number"," ",(0,p.jsx)(a.gN,{className:"p-1 text-lg border-2 rounded w-72",type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0}),(0,p.jsx)(a.Bc,{className:"text-rose-700 text-xs font-normal",name:"number",component:"span"})]}),(0,p.jsx)("button",{className:"p-1 justify-center items-center w-28 h-8 border-none rounded text-black text-sm bg-fuchsia-500 hover:bg-fuchsia-400",type:"submit",children:"Add contact"})]})}),(0,p.jsx)(x.x7,{position:"top-center",reverseOrder:!0})]})},j=n(9439),v=n(2791),y=n(4164),w=document.querySelector("#modal-root"),N=function(e){var t=e.onClose,n=e.children;(0,v.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return(0,y.createPortal)((0,p.jsx)("div",{className:"fixed top-0 left-0 w-screen h-screen flex justify-center items-center bg-transparent z-10",onClick:function(e){e.target===e.currentTarget&&t()},children:(0,p.jsx)("div",{className:"bg-white m-auto p-10 rounded z-0",children:n})}),w)},k=function(e){var t=e.id,n=e.onClose,r=(0,o.I0)(),a=(0,o.v9)(c).find((function(e){return e.id===t})),s=a.name,l=a.number,i=(0,v.useState)(s),d=(0,j.Z)(i,2),u=d[0],m=d[1],x=(0,v.useState)(l),b=(0,j.Z)(x,2),h=b[0],g=b[1],y=function(e){var t=e.target,n=t.name,r=t.value;switch(n){case"name":m(r);break;case"number":g(r);break;default:return}};return(0,p.jsxs)(p.Fragment,{children:[" ",(0,p.jsxs)("form",{className:" w-72 flex flex-col items-center border-2 p-5 rounded my-0 mx-auto ",onSubmit:function(e){e.preventDefault(),r((0,f.Mt)({id:t,name:u,number:h})),n()},autoComplete:"off",children:[(0,p.jsxs)("label",{className:"w-52  flex flex-col gap-1 mb-4 text-xs font-normal capitalize text-black",children:["Name",(0,p.jsx)("input",{className:" w-full p-1 text-xs font-normal border-2 border-solid  rounded",name:"name",value:u,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:y,placeholder:"Enter name"})]}),(0,p.jsxs)("label",{className:"w-52 flex flex-col gap-1 mb-4 text-xs font-normal capitalize text-black",children:["Number",(0,p.jsx)("input",{className:" w-full p-1 text-xs font-normal border-2 border-solid  rounded",type:"tel",name:"number",value:h,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:y,placeholder:"000-00-00"})]}),(0,p.jsxs)("ul",{className:"flex justify-around w-full mt-5",children:[(0,p.jsx)("li",{children:(0,p.jsx)("button",{className:"text-gray-dark w-20 h-8 px-2 py-1 text-sm border-2 border-gray-dark rounded-lg hover:text-orange hover:border-orange curcor-pointer",type:"submit",text:"Edit",children:"Edit"})}),(0,p.jsx)("li",{children:(0,p.jsx)("button",{className:"text-gray-dark w-20 h-8 px-2 py-1 text-sm border-2 border-gray-dark rounded-lg hover:text-orange hover:border-orange curcor-pointer",type:"button",text:"Cancel",onClick:n,children:"Cancel"})})]})]})]})},C=function(e){var t=e.contact,n=t.id,r=t.name,a=t.number,s=(0,o.I0)(),l=(0,v.useState)(""),c=(0,j.Z)(l,2),i=c[0],d=c[1],u=(0,v.useState)(""),m=(0,j.Z)(u,2),x=m[0],b=m[1];(0,v.useEffect)((function(){i&&(document.body.style.overflow="hidden")}),[i]);var h=function(){d(""),b(""),document.body.style.overflow="unset"};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("li",{className:" inline-flex flex-row gap-5 items-center justify-between",children:[(0,p.jsxs)("span",{className:"text-sm font-medium text-black",children:[r,": ",a]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("button",{className:"p-1 justify-center items-center w-16 h-7 border-none rounded text-black text-sm bg-fuchsia-500 hover:bg-fuchsia-400",type:"button",name:"edit",onClick:function(e){var t=e.currentTarget.name;b(t),d(n)},children:"Edit"}),(0,p.jsx)("button",{className:"p-1 ml-2 justify-center items-center w-16 h-7 border-none rounded text-black text-sm bg-fuchsia-500 hover:bg-fuchsia-400",onClick:function(){return s((0,f.GK)(n))},children:"Delete"})]})]}),i&&"edit"===x&&(0,p.jsx)(N,{onClose:h,children:(0,p.jsx)(k,{id:i,onClose:h})})]})},Z=function(){var e=(0,o.v9)(m);return(0,p.jsx)("ul",{className:"flex flex-col gap-2",children:e.map((function(e){return(0,p.jsx)(C,{contact:e},e.id)}))})},A=n(1473),z=function(){var e=(0,o.v9)(i),t=(0,o.I0)();return(0,p.jsxs)("label",{className:"flex flex-col gap-1 mb-3 font-medium text-lg",children:["Find contacts by name",(0,p.jsx)("input",{className:"p-1 border-2 rounded w-72 text-base",type:"text",name:"name",value:e,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:function(e){t((0,A.Tv)(e.target.value))}})]})},E=function(e){var t=e.title,n=e.children;return(0,p.jsxs)("div",{className:" flex flex-col items-center px-5 py-4",children:[(0,p.jsx)("h1",{className:"text-black mb-5 font-bold uppercase text-xl",children:t}),n]})},F=n(168),q=n(4934).Z.div(r||(r=(0,F.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  justify-content: center;\n  align-items: center;\n  margin: 0 auto;\n\n  width: 500px;\n  border: none;\n  border-radius: 4px;\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.2), 0px 2px 2px rgba(0, 0.5, 0, 0.24);\n  background-image: linear-gradient(to bottom, #7bc6cc, #be93c5);\n"]))),S=function(){var e=(0,o.I0)(),t=(0,o.v9)(d),n=(0,o.v9)(u);return(0,v.useEffect)((function(){e((0,f.yF)())}),[e]),(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(q,{children:[(0,p.jsx)(E,{title:"Phonebook",children:(0,p.jsx)(g,{})}),(0,p.jsxs)(E,{title:"Contacts",children:[(0,p.jsx)(z,{}),t&&!n&&(0,p.jsx)("b",{children:"Request in progress..."}),!t&&(0,p.jsx)(Z,{})]})]})})}}}]);
//# sourceMappingURL=561.932ada3b.chunk.js.map